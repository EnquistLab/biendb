-- -----------------------------------------------------------------
-- Restores original index names after updated table 
-- "analytical_stem_new" has been renamed to "analytical_stem" by 
-- removing string "_new" from all index names.
-- This is final step in moving updated duplicate table to production.
-- Note that indexes on original table need to be renamed first
-- -----------------------------------------------------------------
 
\c vegbien
SET search_path TO analytical_db;

-- Original table
ALTER INDEX IF EXISTS analytical_stem_taxonobservation_id_idx RENAME TO analytical_stem_4_2_8_taxonobservation_id_idx;
ALTER INDEX IF EXISTS analytical_stem_plot_metadata_id_idx RENAME TO analytical_stem_4_2_8_plot_metadata_id_idx;
ALTER INDEX IF EXISTS analytical_stem_datasource_id_idx RENAME TO analytical_stem_4_2_8_datasource_id_idx;
ALTER INDEX IF EXISTS analytical_stem_datasource_idx RENAME TO analytical_stem_4_2_8_datasource_idx;
ALTER INDEX IF EXISTS analytical_stem_dataset_idx RENAME TO analytical_stem_4_2_8_dataset_idx;
ALTER INDEX IF EXISTS analytical_stem_fk_gnrs_id_idx RENAME TO analytical_stem_4_2_8_fk_gnrs_id_idx;
ALTER INDEX IF EXISTS analytical_stem_country_idx RENAME TO analytical_stem_4_2_8_country_idx;
ALTER INDEX IF EXISTS analytical_stem_country_state_province_idx RENAME TO analytical_stem_4_2_8_country_state_province_idx;
ALTER INDEX IF EXISTS analytical_stem_country_state_province_county_idx RENAME TO analytical_stem_4_2_8_country_state_province_county_idx;
ALTER INDEX IF EXISTS analytical_stem_lat_long_not_null_idx RENAME TO analytical_stem_4_2_8_lat_long_not_null_idx;
ALTER INDEX IF EXISTS analytical_stem_is_in_country_idx RENAME TO analytical_stem_4_2_8_is_in_country_idx;
ALTER INDEX IF EXISTS analytical_stem_is_in_state_province_idx RENAME TO analytical_stem_4_2_8_is_in_state_province_idx;
ALTER INDEX IF EXISTS analytical_stem_is_in_county_idx RENAME TO analytical_stem_4_2_8_is_in_county_idx;
ALTER INDEX IF EXISTS analytical_stem_is_geovalid_idx RENAME TO analytical_stem_4_2_8_is_geovalid_idx;
ALTER INDEX IF EXISTS analytical_stem_is_new_world_idx RENAME TO analytical_stem_4_2_8_is_new_world_idx;
ALTER INDEX IF EXISTS analytical_stem_plot_name_idx RENAME TO analytical_stem_4_2_8_plot_name_idx;
ALTER INDEX IF EXISTS analytical_stem_plot_name_subplot_idx RENAME TO analytical_stem_4_2_8_plot_name_subplot_idx;
ALTER INDEX IF EXISTS analytical_stem_event_date_idx RENAME TO analytical_stem_4_2_8_event_date_idx;
ALTER INDEX IF EXISTS analytical_stem_event_date_accuracy_idx RENAME TO analytical_stem_4_2_8_event_date_accuracy_idx;
ALTER INDEX IF EXISTS analytical_stem_elevation_m_idx RENAME TO analytical_stem_4_2_8_elevation_m_idx;
ALTER INDEX IF EXISTS analytical_stem_plot_area_ha_idx RENAME TO analytical_stem_4_2_8_plot_area_ha_idx;
ALTER INDEX IF EXISTS analytical_stem_sampling_protocol_idx RENAME TO analytical_stem_4_2_8_sampling_protocol_idx;
ALTER INDEX IF EXISTS analytical_stem_vegetation_verbatim_idx RENAME TO analytical_stem_4_2_8_vegetation_verbatim_idx;
ALTER INDEX IF EXISTS analytical_stem_community_concept_name_idx RENAME TO analytical_stem_4_2_8_community_concept_name_idx;
ALTER INDEX IF EXISTS analytical_stem_date_collected_idx RENAME TO analytical_stem_4_2_8_date_collected_idx;
ALTER INDEX IF EXISTS analytical_stem_date_collected_accuracy_idx RENAME TO analytical_stem_4_2_8_date_collected_accuracy_idx;
ALTER INDEX IF EXISTS analytical_stem_bien_taxonomy_id_idx RENAME TO analytical_stem_4_2_8_bien_taxonomy_id_idx;
ALTER INDEX IF EXISTS analytical_stem_taxon_id_idx RENAME TO analytical_stem_4_2_8_taxon_id_idx;
ALTER INDEX IF EXISTS analytical_stem_family_taxon_id_idx RENAME TO analytical_stem_4_2_8_family_taxon_id_idx;
ALTER INDEX IF EXISTS analytical_stem_genus_taxon_id_idx RENAME TO analytical_stem_4_2_8_genus_taxon_id_idx;
ALTER INDEX IF EXISTS analytical_stem_species_taxon_id_idx RENAME TO analytical_stem_4_2_8_species_taxon_id_idx;
ALTER INDEX IF EXISTS analytical_stem_fk_tnrs_id_idx RENAME TO analytical_stem_4_2_8_fk_tnrs_id_idx;
ALTER INDEX IF EXISTS analytical_stem_family_matched_idx RENAME TO analytical_stem_4_2_8_family_matched_idx;
ALTER INDEX IF EXISTS analytical_stem_name_matched_idx RENAME TO analytical_stem_4_2_8_name_matched_idx;
ALTER INDEX IF EXISTS analytical_stem_matched_taxonomic_status_idx RENAME TO analytical_stem_4_2_8_matched_taxonomic_status_idx;
ALTER INDEX IF EXISTS analytical_stem_match_summary_idx RENAME TO analytical_stem_4_2_8_match_summary_idx;
ALTER INDEX IF EXISTS analytical_stem_scrubbed_taxonomic_status_idx RENAME TO analytical_stem_4_2_8_scrubbed_taxonomic_status_idx;
ALTER INDEX IF EXISTS analytical_stem_higher_plant_group_idx RENAME TO analytical_stem_4_2_8_higher_plant_group_idx;
ALTER INDEX IF EXISTS analytical_stem_scrubbed_family_idx RENAME TO analytical_stem_4_2_8_scrubbed_family_idx;
ALTER INDEX IF EXISTS analytical_stem_scrubbed_genus_idx RENAME TO analytical_stem_4_2_8_scrubbed_genus_idx;
ALTER INDEX IF EXISTS analytical_stem_scrubbed_species_binomial_idx RENAME TO analytical_stem_4_2_8_scrubbed_species_binomial_idx;
ALTER INDEX IF EXISTS analytical_stem_scrubbed_taxon_name_no_author_idx RENAME TO analytical_stem_4_2_8_scrubbed_taxon_name_no_author_idx;
ALTER INDEX IF EXISTS analytical_stem_scrubbed_species_binomial_with_morphospecies_idx RENAME TO analytical_stem_4_2_8_scrubbed_species_binomial_with_morphospecies_idx;
ALTER INDEX IF EXISTS analytical_stem_growth_form_idx RENAME TO analytical_stem_4_2_8_growth_form_idx;
ALTER INDEX IF EXISTS analytical_stem_individual_id_idx RENAME TO analytical_stem_4_2_8_individual_id_idx;
ALTER INDEX IF EXISTS analytical_stem_is_embargoed_observation_idx RENAME TO analytical_stem_4_2_8_is_embargoed_observation_idx;
ALTER INDEX IF EXISTS analytical_stem_nsr_id_idx RENAME TO analytical_stem_4_2_8_nsr_id_idx;
ALTER INDEX IF EXISTS analytical_stem_native_status_idx RENAME TO analytical_stem_4_2_8_native_status_idx;
ALTER INDEX IF EXISTS analytical_stem_is_introduced_idx RENAME TO analytical_stem_4_2_8_is_introduced_idx;
ALTER INDEX IF EXISTS analytical_stem_is_cultivated_in_region_idx RENAME TO analytical_stem_4_2_8_is_cultivated_in_region_idx;
ALTER INDEX IF EXISTS analytical_stem_is_cultivated_taxon_idx RENAME TO analytical_stem_4_2_8_is_cultivated_taxon_idx;
ALTER INDEX IF EXISTS analytical_stem_is_cultivated_observation_idx RENAME TO analytical_stem_4_2_8_is_cultivated_observation_idx;
ALTER INDEX IF EXISTS analytical_stem_gid_0_idx RENAME TO analytical_stem_4_2_8_gid_0_idx;
ALTER INDEX IF EXISTS analytical_stem_gid_1_idx RENAME TO analytical_stem_4_2_8_gid_1_idx;
ALTER INDEX IF EXISTS analytical_stem_gid_2_idx RENAME TO analytical_stem_4_2_8_gid_2_idx;
ALTER INDEX IF EXISTS analytical_stem_fk_cds_id_idx RENAME TO analytical_stem_4_2_8_fk_cds_id_idx;
ALTER INDEX IF EXISTS analytical_stem_is_centroid_idx RENAME TO analytical_stem_4_2_8_is_centroid_idx;
ALTER INDEX IF EXISTS analytical_stem_centroid_type_idx RENAME TO analytical_stem_4_2_8_centroid_type_idx;
ALTER INDEX IF EXISTS analytical_stem_is_invalid_latlong_idx RENAME TO analytical_stem_4_2_8_is_invalid_latlong_idx;
ALTER INDEX IF EXISTS analytical_stem_cods_proximity_id_idx RENAME TO analytical_stem_4_2_8_cods_proximity_id_idx;
ALTER INDEX IF EXISTS analytical_stem_cods_keyword_id_idx RENAME TO analytical_stem_4_2_8_cods_keyword_id_idx;
ALTER INDEX IF EXISTS analytical_stem_latlong_verbatim_idx RENAME TO analytical_stem_4_2_8_latlong_verbatim_idx;
ALTER INDEX IF EXISTS analytical_stem_validated_species_idx RENAME TO analytical_stem_4_2_8_validated_species_idx;

-- New table
ALTER INDEX IF EXISTS analytical_stem_new_taxonobservation_id_idx RENAME TO analytical_stem_taxonobservation_id_idx;
ALTER INDEX IF EXISTS analytical_stem_new_plot_metadata_id_idx RENAME TO analytical_stem_plot_metadata_id_idx;
ALTER INDEX IF EXISTS analytical_stem_new_datasource_id_idx RENAME TO analytical_stem_datasource_id_idx;
ALTER INDEX IF EXISTS analytical_stem_new_datasource_idx RENAME TO analytical_stem_datasource_idx;
ALTER INDEX IF EXISTS analytical_stem_new_dataset_idx RENAME TO analytical_stem_dataset_idx;
ALTER INDEX IF EXISTS analytical_stem_new_fk_gnrs_id_idx RENAME TO analytical_stem_fk_gnrs_id_idx;
ALTER INDEX IF EXISTS analytical_stem_new_country_idx RENAME TO analytical_stem_country_idx;
ALTER INDEX IF EXISTS analytical_stem_new_country_state_province_idx RENAME TO analytical_stem_country_state_province_idx;
ALTER INDEX IF EXISTS analytical_stem_new_country_state_province_county_idx RENAME TO analytical_stem_country_state_province_county_idx;
ALTER INDEX IF EXISTS analytical_stem_new_lat_long_not_null_idx RENAME TO analytical_stem_lat_long_not_null_idx;
ALTER INDEX IF EXISTS analytical_stem_new_is_in_country_idx RENAME TO analytical_stem_is_in_country_idx;
ALTER INDEX IF EXISTS analytical_stem_new_is_in_state_province_idx RENAME TO analytical_stem_is_in_state_province_idx;
ALTER INDEX IF EXISTS analytical_stem_new_is_in_county_idx RENAME TO analytical_stem_is_in_county_idx;
ALTER INDEX IF EXISTS analytical_stem_new_is_geovalid_idx RENAME TO analytical_stem_is_geovalid_idx;
ALTER INDEX IF EXISTS analytical_stem_new_is_new_world_idx RENAME TO analytical_stem_is_new_world_idx;
ALTER INDEX IF EXISTS analytical_stem_new_plot_name_idx RENAME TO analytical_stem_plot_name_idx;
ALTER INDEX IF EXISTS analytical_stem_new_plot_name_subplot_idx RENAME TO analytical_stem_plot_name_subplot_idx;
ALTER INDEX IF EXISTS analytical_stem_new_event_date_idx RENAME TO analytical_stem_event_date_idx;
ALTER INDEX IF EXISTS analytical_stem_new_event_date_accuracy_idx RENAME TO analytical_stem_event_date_accuracy_idx;
ALTER INDEX IF EXISTS analytical_stem_new_elevation_m_idx RENAME TO analytical_stem_elevation_m_idx;
ALTER INDEX IF EXISTS analytical_stem_new_plot_area_ha_idx RENAME TO analytical_stem_plot_area_ha_idx;
ALTER INDEX IF EXISTS analytical_stem_new_sampling_protocol_idx RENAME TO analytical_stem_sampling_protocol_idx;
ALTER INDEX IF EXISTS analytical_stem_new_vegetation_verbatim_idx RENAME TO analytical_stem_vegetation_verbatim_idx;
ALTER INDEX IF EXISTS analytical_stem_new_community_concept_name_idx RENAME TO analytical_stem_community_concept_name_idx;
ALTER INDEX IF EXISTS analytical_stem_new_date_collected_idx RENAME TO analytical_stem_date_collected_idx;
ALTER INDEX IF EXISTS analytical_stem_new_date_collected_accuracy_idx RENAME TO analytical_stem_date_collected_accuracy_idx;
ALTER INDEX IF EXISTS analytical_stem_new_bien_taxonomy_id_idx RENAME TO analytical_stem_bien_taxonomy_id_idx;
ALTER INDEX IF EXISTS analytical_stem_new_taxon_id_idx RENAME TO analytical_stem_taxon_id_idx;
ALTER INDEX IF EXISTS analytical_stem_new_family_taxon_id_idx RENAME TO analytical_stem_family_taxon_id_idx;
ALTER INDEX IF EXISTS analytical_stem_new_genus_taxon_id_idx RENAME TO analytical_stem_genus_taxon_id_idx;
ALTER INDEX IF EXISTS analytical_stem_new_species_taxon_id_idx RENAME TO analytical_stem_species_taxon_id_idx;
ALTER INDEX IF EXISTS analytical_stem_new_fk_tnrs_id_idx RENAME TO analytical_stem_fk_tnrs_id_idx;
ALTER INDEX IF EXISTS analytical_stem_new_family_matched_idx RENAME TO analytical_stem_family_matched_idx;
ALTER INDEX IF EXISTS analytical_stem_new_name_matched_idx RENAME TO analytical_stem_name_matched_idx;
ALTER INDEX IF EXISTS analytical_stem_new_matched_taxonomic_status_idx RENAME TO analytical_stem_matched_taxonomic_status_idx;
ALTER INDEX IF EXISTS analytical_stem_new_match_summary_idx RENAME TO analytical_stem_match_summary_idx;
ALTER INDEX IF EXISTS analytical_stem_new_scrubbed_taxonomic_status_idx RENAME TO analytical_stem_scrubbed_taxonomic_status_idx;
ALTER INDEX IF EXISTS analytical_stem_new_higher_plant_group_idx RENAME TO analytical_stem_higher_plant_group_idx;
ALTER INDEX IF EXISTS analytical_stem_new_scrubbed_family_idx RENAME TO analytical_stem_scrubbed_family_idx;
ALTER INDEX IF EXISTS analytical_stem_new_scrubbed_genus_idx RENAME TO analytical_stem_scrubbed_genus_idx;
ALTER INDEX IF EXISTS analytical_stem_new_scrubbed_species_binomial_idx RENAME TO analytical_stem_scrubbed_species_binomial_idx;
ALTER INDEX IF EXISTS analytical_stem_new_scrubbed_taxon_name_no_author_idx RENAME TO analytical_stem_scrubbed_taxon_name_no_author_idx;
ALTER INDEX IF EXISTS analytical_stem_new_scrubbed_species_binomial_with_morphospecies_idx RENAME TO analytical_stem_scrubbed_species_binomial_with_morphospecies_idx;
ALTER INDEX IF EXISTS analytical_stem_new_growth_form_idx RENAME TO analytical_stem_growth_form_idx;
ALTER INDEX IF EXISTS analytical_stem_new_individual_id_idx RENAME TO analytical_stem_individual_id_idx;
ALTER INDEX IF EXISTS analytical_stem_new_is_embargoed_observation_idx RENAME TO analytical_stem_is_embargoed_observation_idx;
ALTER INDEX IF EXISTS analytical_stem_new_nsr_id_idx RENAME TO analytical_stem_nsr_id_idx;
ALTER INDEX IF EXISTS analytical_stem_new_native_status_idx RENAME TO analytical_stem_native_status_idx;
ALTER INDEX IF EXISTS analytical_stem_new_is_introduced_idx RENAME TO analytical_stem_is_introduced_idx;
ALTER INDEX IF EXISTS analytical_stem_new_is_cultivated_in_region_idx RENAME TO analytical_stem_is_cultivated_in_region_idx;
ALTER INDEX IF EXISTS analytical_stem_new_is_cultivated_taxon_idx RENAME TO analytical_stem_is_cultivated_taxon_idx;
ALTER INDEX IF EXISTS analytical_stem_new_is_cultivated_observation_idx RENAME TO analytical_stem_is_cultivated_observation_idx;
ALTER INDEX IF EXISTS analytical_stem_new_gid_0_idx RENAME TO analytical_stem_gid_0_idx;
ALTER INDEX IF EXISTS analytical_stem_new_gid_1_idx RENAME TO analytical_stem_gid_1_idx;
ALTER INDEX IF EXISTS analytical_stem_new_gid_2_idx RENAME TO analytical_stem_gid_2_idx;
ALTER INDEX IF EXISTS analytical_stem_new_fk_cds_id_idx RENAME TO analytical_stem_fk_cds_id_idx;
ALTER INDEX IF EXISTS analytical_stem_new_is_centroid_idx RENAME TO analytical_stem_is_centroid_idx;
ALTER INDEX IF EXISTS analytical_stem_new_centroid_type_idx RENAME TO analytical_stem_centroid_type_idx;
ALTER INDEX IF EXISTS analytical_stem_new_is_invalid_latlong_idx RENAME TO analytical_stem_is_invalid_latlong_idx;
ALTER INDEX IF EXISTS analytical_stem_new_cods_proximity_id_idx RENAME TO analytical_stem_cods_proximity_id_idx;
ALTER INDEX IF EXISTS analytical_stem_new_cods_keyword_id_idx RENAME TO analytical_stem_cods_keyword_id_idx;
ALTER INDEX IF EXISTS analytical_stem_new_latlong_verbatim_idx RENAME TO analytical_stem_latlong_verbatim_idx;
ALTER INDEX IF EXISTS analytical_stem_new_validated_species_idx RENAME TO analytical_stem_validated_species_idx;
